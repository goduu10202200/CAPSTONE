<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>CAPSTONE</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.png" />
    <!-- Bootstrap Icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
        rel="stylesheet" type="text/css" />
    <!-- SimpleLightbox plugin CSS-->
    <link href="./css/simpleLightbox.min.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="./css/styles.css" rel="stylesheet" />
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"> -->
</head>

<body id="page-top">
    <!-- Navigation - S 2021/09/17 -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class=" navbar-brand nav-link" service="home" href="">
                <img id="cs_logo" class="img-small top-img" src="./assets/img/logo_white.svg" alt="CAPSTONE" />
            </a>
            <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>

            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul id="menu" class="navbar-nav ms-auto my-2 my-lg-0">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#about" id="navbarScrollingDropdown"
                            data-bs-toggle="dropdown" aria-expanded="false">TestDropDown</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                            <li><a class="dropdown-item dropdown-item-link nav-link" href="#">Services</a></li>
                            <li><a class="dropdown-item dropdown-item-link nav-link" href="#">Another action</a>
                            </li>
                        </ul>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" service="about">About</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#about" id="navbarScrollingDropdown"
                            data-bs-toggle="dropdown" aria-expanded="false">TestDropDown</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarScrollingDropdown">
                            <li><a class="dropdown-item dropdown-item-link nav-link" href="#">Services</a></li>
                            <li><a class="dropdown-item dropdown-item-link nav-link" href="#">Another action</a></li>
                            <li>
                                <hr class="dropdown-divider dropdown-item-link nav-link">
                            </li>
                            <li><a class="dropdown-item dropdown-item-link nav-link" href="#">Something else here</a>
                            </li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#portfolio">Portfolio</a></li>
                    <li class="nav-item"><a class="nav-link" href="#contact">Faculty Members</a></li> -->
                </ul>
            </div>
            <div class="language">
                <ul class="language-navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link language-link" href="#ln=CN" onclick="_SetMainData('CN',set_page);">中</a>
                    </li>
                    <span class="language-sep">|</span>

                    <li class="nav-item">
                        <a class="nav-link language-link" href="#ln=EN" onclick="_SetMainData('EN',set_page);">EN</a>
                    </li>
                </ul>
            </div>

        </div>
    </nav>
    <!-- Navigation - E 2021/09/17 -->

    <!-- main - S 2021/10/10 -->
    <div id="main"></div>
    <!-- main - E 2021/10/10 -->

    <div>
        <div id="CommunityTap" class="toTop-arrow">
            <i class="far fa-comments fs-0 toTop-icon"></i>
        </div>

        <div class="card CommunityTap-content">
            <div>
                <button type="button" class="btn-close float-end Community-close" aria-label="Close"
                    onclick="CommunityClose();"></button>
            </div>
            <div class="card-body">
                <ul id="CommunityUl"></ul>
            </div>
        </div>
    </div>

    <!-- Footer - S 2021/09/17 -->
    <footer class="bg-light py-5">
        <div class="container px-4 px-lg-5">
            <div class="small text-center text-muted">Copyright &copy; 2021 - CAPSTONE</div>
        </div>
    </footer>
    <!-- Footer - E -->

    <script type="text/javascript" src="js/jquery-3.6.min.js"></script>

    <!-- Bootstrap core JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- SimpleLightbox plugin JS -->
    <script type="text/javascript" src="./js/simpleLightbox.min.js"></script>
    <!-- fontawesome JS -->
    <script type="text/javascript" src="https://kit.fontawesome.com/8c58c1b4a6.js"></script>
    <!-- Core theme JS -->
    <script type="text/javascript" src="./js/scripts.js"></script>

    <script type="text/javascript" src="./js/capstone.js"></script>

    <script>
        let count_about = 0;
        let count_course = 0;
        let set_page = '';
        $(function () {
            // Detect Language 2021/10/11
            $("#main").load("./home.html");


            // Include JS Files
            $.getScript("./js/scrollbar.js")

            /* Commuinty Tab - S 2021/10/11 */
            $('#CommunityTap').click(function () {
                if ($('.CommunityTap-content').css('display') == 'none') {
                    $('.CommunityTap-content').fadeIn(200)
                } else {
                    $('.CommunityTap-content').fadeOut(200)
                }
            });

            _SetCommunity();
            /* Commuinty Tab - E 2021/10/11 */

            // Set Language
            setTimeout(() => { _SetMainData('', 'home'); }, 100);
        })



        // Menu Change
        function ChangePge(page) {
            set_page = page;

            console.log($(window).width())
            /* Change Menu */
            if (page != "home") {
                $('nav').addClass('navbar-shrink')
                $('#cs_logo').attr('src', '~/../assets/img/logo.svg')
                $('.language-sep').attr('style', 'color:#6c757d')
            } else {
                $('nav').remove('navbar-shrink')
                $('#cs_logo').attr('src', '~/../assets/img/logo_white.svg')
                $('.language-sep').removeAttr('style');
            }


            if (page == "about") {
                // 清空課程分頁紀錄
                count_course = 0

                count_about++;

                // 點擊第二次
                if (count_about >= 2 && $(window).width() <= 830) {
                    $("#main").load("./about.html");
                    setTimeout(() => { _SetMainData('', set_page); }, 100);
                    $('#navbarResponsive').removeClass('show');

                    // 清空關於我們分頁紀錄
                    count_about = 0
                } else if ($(window).width() > 830) {
                    $("#main").load("./about.html");
                    setTimeout(() => { _SetMainData('', set_page); }, 100);
                    $('#navbarResponsive').removeClass('show');
                }
            } else if (page == "course") {
                // 清空關於我們分頁紀錄
                count_about = 0

                count_course++;

                // 點擊第二次
                if (count_course >= 2) {
                    $("#main").load("./course.html");
                    setTimeout(() => { _SetMainData('', set_page); }, 100);
                    $('#navbarResponsive').removeClass('show');
                    // 清空課程分頁紀錄
                    count_course = 0
                }
            } else {
                // 清空紀錄
                count_course = 0
                count_about = 0

                switch (page) {
                    case "home":
                        $("#main").load("./home.html");
                        $('#navbarResponsive').removeClass('show');
                        setTimeout(() => { _SetMainData('', set_page); }, 100);
                        break;
                    case "aboutus":
                        $("#main").load("./aboutus.html");
                        $('#navbarResponsive').removeClass('show');
                        setTimeout(() => { _SetMainData('', set_page); }, 100);
                        break;
                    case "staff":
                        $("#main").load("./staff.html");
                        $('#navbarResponsive').removeClass('show');
                        setTimeout(() => { _SetMainData('', set_page); }, 100);
                        break;
                    case "advisory":
                        $("#main").load("./advisory.html");
                        $('#navbarResponsive').removeClass('show');
                        setTimeout(() => { _SetMainData('', set_page); }, 100);
                        break;
                }
            }

        }
    </script>


    <script>
        // IG API
        var
            // username = 'rayduenglish',
            username = 'rayduenglish',
            url = "https://www.instagram.com/" + username + "/channel?__a=1";
        // https://www.instagram.com/rockychen1020/channel?__a=1
        // $.ajax({
        //     url: './getinstagram.php',
        //     type: 'POST',
        //     data: { url: url },  // data to submit
        //     dataType: 'json',
        //     success: function (data) {
        //         // console.log(data)
        //         // $.each(data['graphql']['user']['edge_owner_to_timeline_media']['edges'], function(index,val) {
        //         //    $('#instgram_picturewall').append(
        //         //        '<div class="col-lg-4 col-sm-6">' +
        //         //             '<a class="portfolio-box" href="#" title="Project Name">' +
        //         //                 '<img class="img-fluid" src="' + btoa(val['node']['thumbnail_src']) + '" alt="..." />' +
        //         //                 '<div class="portfolio-box-caption">' +
        //         //                     '<div class="project-category text-white-50">Category</div>' +
        //         //                     '<div class="project-name">Project Name</div>'+
        //         //                 '</div>' +
        //         //             '</a>' +
        //         //         '</div>'
        //         //    )

        //         //     console.log('Img',atob(val['node']['display_url']))
        //         // }); 
        //         /*
        //             <div class="col-lg-4 col-sm-6">
        //                 <a class="portfolio-box" href="assets/img/portfolio/fullsize/1.jpg" title="Project Name">
        //                     <img class="img-fluid" src="assets/img/portfolio/thumbnails/1.jpg" alt="..." />
        //                     <div class="portfolio-box-caption">
        //                         <div class="project-category text-white-50">Category</div>
        //                         <div class="project-name">Project Name</div>
        //                     </div>
        //                 </a>
        //             </div>
        //         */
        //         // console.log('AllData', data['graphql']['user']['edge_owner_to_timeline_media']['edges'])

        //         // console.log('FirstImg', data['graphql']['user']['edge_owner_to_timeline_media']['edges'][0]['node']['thumbnail_src'])

        //         // // 文字可能抓不到、要取代二次(\n、")
        //         // let testText = JSON.stringify(data['graphql']['user']['edge_owner_to_timeline_media']['edges'][0]['node']['edge_media_to_caption']['edges'][0]['node'].text).replaceAll("\\n","<br\>")
        //         // $('#test').html(testText.replaceAll('"',""))


        //         // // 地點可能抓不到
        //         // if('Firstlocation', data['graphql']['user']['edge_owner_to_timeline_media']['edges'][0]['node']['location'] != null){
        //         //     console.log('Firstlocation', data['graphql']['user']['edge_owner_to_timeline_media']['edges'][0]['node']['location']['name'])
        //         // } else {
        //         //     console.log('抓不到地點')
        //         // }
        //     },
        //     error: function(error){
        //         console.log('error', error)
        //     }
        // });
    </script>

</body>

</html>